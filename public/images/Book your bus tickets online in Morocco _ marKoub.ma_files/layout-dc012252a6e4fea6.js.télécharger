(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8450],{4448:(e,t,s)=>{"use strict";s.d(t,{Bc:()=>l,ID:()=>c});var n=s(54568),r=s(7620),o=s(34535);s(34043),s(64357),s(25382),s(93928),s(64148),s(47227);var a=s(86180);function l(e){let{children:t}=e;return(0,n.jsx)(o.Kq,{delayDuration:150,children:t})}function i(e){let{children:t,content:s,side:a="top",disableHoverableContent:l=!1,...i}=e,[c,d]=(0,r.useState)(!1);return(0,n.jsxs)(o.bL,{open:c,onOpenChange:d,delayDuration:0,disableHoverableContent:l,children:[(0,n.jsx)(o.l9,{asChild:!0,onClick:()=>{d(!0)},onBlur:()=>{d(!1)},children:t}),(0,n.jsx)(o.ZL,{children:(0,n.jsx)(o.UC,{sideOffset:8,side:a,className:"animate-slide-up-fade z-[99] items-center overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm",collisionPadding:0,...i,children:"string"==typeof s?(0,n.jsx)("span",{className:"block max-w-xs text-pretty px-4 py-2 text-start text-sm text-gray-700",children:s}):"function"==typeof s?s({setOpen:d}):s})})]})}function c(e){return(0,n.jsx)(i,{...e,children:(0,n.jsx)(a.I,{name:"i-lucide-circle-help",className:"h-4 w-4 text-gray-500 rtl:-scale-x-100"})})}},15272:(e,t,s)=>{var n={"./account/ar.json":[52349,2349],"./account/en.json":[74501,4501],"./account/fr.json":[58022,8022],"./ar.json":[66901,6901],"./blog/ar.json":[64558,4558],"./blog/en.json":[6526,6526],"./blog/fr.json":[57349,7349],"./bookings/ar.json":[48206,8206],"./bookings/en.json":[91134,1134],"./bookings/fr.json":[13893,3893],"./cash-payment/ar.json":[59014,9014],"./cash-payment/en.json":[20774,774],"./cash-payment/fr.json":[36989,6989],"./cash-token-payment/ar.json":[40780,6018],"./cash-token-payment/en.json":[27778,7778],"./cash-token-payment/fr.json":[20945,945],"./checkout/ar.json":[88306,8306],"./checkout/en.json":[1186,1186],"./checkout/fr.json":[69809,9809],"./cities/ar.json":[42815,2815],"./cities/en.json":[55215,5215],"./cities/fr.json":[42468,2468],"./city/ar.json":[98603,8603],"./city/en.json":[42987,2987],"./city/fr.json":[79032,9032],"./company/ar.json":[85129,5129],"./company/en.json":[16145,6145],"./company/fr.json":[46346,6346],"./contact/ar.json":[95544,5544],"./contact/en.json":[33096,3096],"./contact/fr.json":[62635,2635],"./en.json":[99373,9373],"./errors/ar.json":[18911,8911],"./errors/en.json":[63439,5820],"./errors/fr.json":[85348,5348],"./fr.json":[78206,5825],"./help/ar.json":[69239,9239],"./help/en.json":[9751,9751],"./help/fr.json":[57404,7404],"./home/ar.json":[71783,1783],"./home/en.json":[44839,4839],"./home/fr.json":[47340,7340],"./journey/ar.json":[88248,8248],"./journey/en.json":[19528,9528],"./journey/fr.json":[4747,4747],"./mkhyer/ar.json":[37202,7202],"./mkhyer/en.json":[68962,8962],"./mkhyer/fr.json":[62129,2129],"./offers/ar.json":[43995,3995],"./offers/en.json":[37499,7499],"./offers/fr.json":[97096,7096],"./partners/ar.json":[22155,2155],"./partners/en.json":[25355,5355],"./partners/fr.json":[5656,5656],"./search/ar.json":[23350,3350],"./search/en.json":[7222,7222],"./search/fr.json":[13901,3901],"./seo/ar.json":[90679,679],"./seo/en.json":[62231,2231],"./seo/fr.json":[24636,4636],"./zod/ar.json":[31455,1455],"./zod/en.json":[43855,3855],"./zod/fr.json":[31108,1108]};function r(e){if(!s.o(n,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],r=t[0];return s.e(t[1]).then(()=>s.t(r,19))}r.keys=()=>Object.keys(n),r.id=15272,e.exports=r},17375:(e,t,s)=>{"use strict";s.d(t,{BottomTabNav:()=>h});var n=s(54568),r=s(7620),o=s(68331),a=s(86180),l=s(70914),i=s(47092),c=s(25382),d=s(89816),u=s(89497),m=s(93928);let p=[{label:"Search",tolgeeKey:"search",href:"/",icon:"i-lucide-search"},{label:"Help",tolgeeKey:"help-center",href:"/help",icon:"i-hugeicons-customer-support"},{label:"Profile",tolgeeKey:"profile",href:"/settings/account",icon:"i-hugeicons-user-circle-02"}];function h(){let e=(0,c.rd)(),{t}=(0,o.WD)(),s=(0,c.a8)(),{user:h}=(0,i.w)(),{openModal:f}=(0,l.X)();return(0,r.useMemo)(()=>!d.I.includes(s),[s])?(0,n.jsx)(u.$U,{lessThan:"md",children:(0,n.jsx)("nav",{className:"fixed inset-x-0 bottom-0 z-50 border-t border-border bg-white",children:(0,n.jsx)("ul",{className:"flex h-14 items-center justify-around pt-0",children:p.map(r=>{let o=s===r.href;return(0,n.jsx)("li",{className:(0,m.cn)("h-full flex-1 select-none",o&&"border-t-[2px] border-brand"),children:"Profile"===r.label?(0,n.jsxs)("div",{className:"flex h-full cursor-pointer flex-col items-center justify-center gap-y-1 text-sm ".concat(o?"text-brand-500":"text-neutral-500"),onClick:()=>{h?e.push(r.href):f()},children:[(0,n.jsx)(a.I,{className:"size-5",name:r.icon}),(0,n.jsx)("span",{className:"font-medium",children:t(r.tolgeeKey,r.label)})]}):(0,n.jsxs)(c.N_,{href:r.href,className:"flex h-full flex-col items-center justify-center gap-y-1 text-sm ".concat(o?"text-brand-500":"text-neutral-500"),children:[(0,n.jsx)(a.I,{className:"size-5 rtl:-scale-x-100",name:r.icon}),(0,n.jsx)("span",{className:"font-medium",children:t(r.tolgeeKey,r.label)})]})},r.label)})})})}):null}},19265:(e,t,s)=>{"use strict";s.d(t,{NV:()=>c,UV:()=>i,pf:()=>u,sF:()=>d});var n=s(54568),r=s(7620),o=s(93928),a=s(58677),l=s(4227);let i=r.forwardRef((e,t)=>{let{className:s,containerClassName:r,...a}=e;return(0,n.jsx)(l.wE,{ref:t,containerClassName:(0,o.cn)("flex items-center gap-2 has-[:disabled]:opacity-50",r),className:(0,o.cn)("disabled:cursor-not-allowed",s),autoComplete:"one-time-code",inputMode:"numeric",...a})});i.displayName="InputOTP";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center",s),...r})});c.displayName="InputOTPGroup";let d=r.forwardRef((e,t)=>{let{index:s,className:a,...i}=e,{char:c,hasFakeCaret:d,isActive:u}=r.useContext(l.dK).slots[s];return(0,n.jsxs)("div",{ref:t,className:(0,o.cn)("relative flex h-9 w-9 items-center justify-center border-y border-e border-input bg-white text-sm shadow-sm transition-all first:rounded-s-md first:border-s last:rounded-e-md",u&&"z-10 ring-1 ring-ring",a),...i,children:[c,d&&(0,n.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:(0,n.jsx)("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});d.displayName="InputOTPSlot";let u=r.forwardRef((e,t)=>{let{...s}=e;return(0,n.jsx)("div",{ref:t,role:"separator",...s,children:(0,n.jsx)(a.YTx,{})})});u.displayName="InputOTPSeparator"},22338:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var n=s(54568),r=s(7620),o=s(97509),a=s(89497),l=s(62942),i=s(8139);let c="3132928056724621";function d(){let e=(0,l.usePathname)();return(0,r.useEffect)(()=>{e&&window.fbq&&window.fbq("track","PageView")},[e]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.default,{id:"meta-pixel-script",strategy:"afterInteractive",children:"\n          !function(f,b,e,v,n,t,s)\n          {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n          n.callMethod.apply(n,arguments):n.queue.push(arguments)};\n          if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n          n.queue=[];t=b.createElement(e);t.async=!0;\n          t.src=v;s=b.getElementsByTagName(e)[0];\n          s.parentNode.insertBefore(t,s)}(window, document,'script',\n          'https://connect.facebook.net/en_US/fbevents.js');\n          fbq('init', '".concat(c,"');\n          fbq('track', 'PageView');\n        ")}),(0,n.jsx)("noscript",{children:(0,n.jsx)("img",{height:"1",width:"1",style:{display:"none"},src:"https://www.facebook.com/tr?id=".concat(c,"&ev=PageView&noscript=1"),alt:""})})]})}let u=function(){return o.preconnect("https://api.iconify.design"),o.preconnect("https://markoubassets.com"),o.preconnect("https://accounts.google.com"),(0,n.jsxs)("head",{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:a.rn},type:"text/css"},"fresnel-css"),(0,n.jsx)(d,{})]})}},25382:(e,t,s)=>{"use strict";s.d(t,{N_:()=>l,Yv:()=>o,a8:()=>c,rd:()=>d});var n=s(29350),r=s(30595);let o=["fr","en","ar"],a=(0,r.A)({locales:o,defaultLocale:"fr",localePrefix:"as-needed",alternateLinks:!1}),{Link:l,redirect:i,usePathname:c,useRouter:d}=(0,n.A)(a)},28290:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ScrollArea:()=>l,ScrollBar:()=>i});var n=s(54568),r=s(7620),o=s(42568),a=s(93928);let l=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,n.jsxs)(o.bL,{ref:t,className:(0,a.cn)("relative overflow-hidden",s),...l,children:[(0,n.jsx)(o.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,n.jsx)(i,{}),(0,n.jsx)(o.OK,{})]})});l.displayName=o.bL.displayName;let i=r.forwardRef((e,t)=>{let{className:s,orientation:r="vertical",...l}=e;return(0,n.jsx)(o.VM,{ref:t,orientation:r,className:(0,a.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...l,children:(0,n.jsx)(o.lr,{className:"relative flex-1 rounded-full bg-border"})})});i.displayName=o.VM.displayName},34908:(e,t,s)=>{"use strict";s.d(t,{Toaster:()=>o,o:()=>r.oR});var n=s(54568),r=s(51874);let o=e=>{let{...t}=e;return(0,n.jsx)(r.l$,{className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})}},37627:(e,t,s)=>{Promise.resolve().then(s.bind(s,72891)),Promise.resolve().then(s.bind(s,51421)),Promise.resolve().then(s.t.bind(s,83239,23)),Promise.resolve().then(s.bind(s,87808)),Promise.resolve().then(s.bind(s,17375)),Promise.resolve().then(s.bind(s,22338)),Promise.resolve().then(s.bind(s,60309)),Promise.resolve().then(s.bind(s,34908)),Promise.resolve().then(s.bind(s,70914)),Promise.resolve().then(s.bind(s,21016)),Promise.resolve().then(s.bind(s,47092)),Promise.resolve().then(s.bind(s,63426)),Promise.resolve().then(s.bind(s,57707)),Promise.resolve().then(s.bind(s,76206)),Promise.resolve().then(s.bind(s,91728)),Promise.resolve().then(s.bind(s,57175)),Promise.resolve().then(s.bind(s,2377)),Promise.resolve().then(s.t.bind(s,44760,23)),Promise.resolve().then(s.bind(s,19779))},51421:(e,t,s)=>{"use strict";s.d(t,{default:()=>_});var n=s(54568),r=s(7620),o=s(8139),a=s(97387),l=s(73920),i=s(89240);function c(){return(0,r.useEffect)(()=>{let e="\x1b[1m\x1b[38;2;255;105;0m",t="\x1b[0m";console.log("\n".concat(e,"    __  ___           __              __  \n   /  |/  /___ ______/ /______  __  __/ /_ \n  / /|_/ / __ `/ ___/ //_/ __ \\/ / / / __ \\\n / /  / / /_/ / /  / ,< / /_/ / /_/ / /_/ /\n/_/  /_/\\__,_/_/  /_/|_|\\____/\\__,_/_.___/ ").concat(t,"\n\n").concat(e,"\uD83D\uDE8C Your Journey, Our Mission").concat(t,"\n").concat("\x1b[37m","Making bus travel in Morocco simple & smart").concat(t,"\n\n").concat("\x1b[38;2;255;105;0m","\xa9 ").concat(new Date().getFullYear()," Markoub - Happy travels! \uD83C\uDF1F").concat(t,"\n"))},[]),null}var d=s(62942),u=s(21016),m=s(47092),p=s(33822),h=s(78765),f=s(56013),x=s(93928),g=s(75075);function b(){let e=(0,u.U)(),{user:t}=(0,m.w)(),s=(0,d.useRouter)(),{track:o}=(0,f.z)();(0,d.usePathname)();let a=(0,h.A)(64);(0,r.useEffect)(()=>{if(t)return;let e=setTimeout(()=>l(),1500);return()=>{clearTimeout(e)}},[t]);let l=()=>{let{google:e}=window;if(e&&!t)return e.accounts.id.initialize({client_id:p._.NEXT_PUBLIC_GOOGLE_CLIENT_ID,callback:async e=>{i(e.credential)},cancel_on_tap_outside:!1,prompt_parent_id:"one-tap-root",use_fedcm_for_prompt:!1}),e.accounts.id.prompt()},i=async t=>{try{(await fetch("/login/google/one-tap/callback",{method:"POST",body:JSON.stringify({idToken:t}),headers:{"Content-Type":"application/json","X-CSRF-Token":e},credentials:"include"}).then(e=>e.json())).success&&window.location.reload()}catch(e){s.push("/")}};return(0,n.jsx)(g.A,{className:"relative mx-auto grid w-full max-w-6xl px-6",children:(0,n.jsx)("div",{id:"one-tap-root",className:(0,x.cn)("fixed right-0 z-[9999] flex h-0 w-[400px] flex-col transition-all ease-linear",a?"top-[70px]":"top-[128px]")})})}var j=s(4448),y=s(63178);function v(){return(0,n.jsx)(r.Suspense,{children:(0,n.jsx)(w,{})})}let w=()=>{let e=(0,d.usePathname)(),t=(0,d.useSearchParams)(),{track:s}=(0,f.z)(),n=(0,i.sf)();return(0,r.useEffect)(()=>{if(e&&n){let n=window.origin+e;t.toString()&&(n+="?".concat(t.toString())),s("$pageview",{$current_url:n},{services:"posthog"}),s("PageView",{},{services:"meta",metaType:"standard"})}},[e,t,n,s]),null};var N=s(89497);function _(e){let{children:t,locale:s}=e,{user:d}=(0,m.w)(),u=(0,y.K)();return(0,r.useEffect)(()=>{l.Ay.init(p._.NEXT_PUBLIC_POSTHOG_KEY,{api_host:"/_proxy/posthog/ingest",ui_host:"https://eu.posthog.com",person_profiles:"identified_only",capture_pageview:!1,capture_pageleave:!0,autocapture:!1})},[]),(0,r.useEffect)(()=>{d&&l.Ay.identify(d.id,{email:d.email,name:d.name,avatar:d.image,isPhoneVerified:d.isPhoneVerified,phone:d.phone})},[d]),(0,n.jsxs)(i.so,{client:l.Ay,children:[(0,n.jsx)(v,{}),(0,n.jsxs)(a.A,{locale:s,children:[(0,n.jsx)(c,{}),(0,n.jsxs)(j.Bc,{children:[!u&&(0,n.jsx)(b,{}),(0,n.jsx)(N.tZ,{children:t})]}),!d&&(0,n.jsx)(o.default,{src:"https://accounts.google.com/gsi/client",async:!0,defer:!0})]})]})}},56013:(e,t,s)=>{"use strict";s.d(t,{z:()=>a});var n=s(43270),r=s(89240),o=s(64977);function a(){let e=(0,r.sf)(),{trackEvent:t,trackCustomEvent:s}=(0,o.d)();return{track:function(r,o){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{services:l="all",metaType:i="custom"}=a;if(("all"===l||"posthog"===l)&&e.capture(r,o),("all"===l||"meta"===l)&&("custom"===i?s(r,o):t(r,o)),("all"===l||"google"===l)&&(0,n.sendGTMEvent)({event:r,...o}),"all"===l||"googleAnalytics"===l||"posthog"===l||"google"===l){if("$pageview"===r)return;(0,n.sendGAEvent)("event",r,o?{...o}:{})}}}}},60309:(e,t,s)=>{"use strict";s.d(t,{DirectionProvider:()=>o});var n=s(54568),r=s(17644);function o(e){let{dir:t,children:s}=e;return(0,n.jsx)(r.Kq,{dir:t,children:s})}},63178:(e,t,s)=>{"use strict";s.d(t,{K:()=>r});var n=s(7620);function r(){let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{var e;t(!!(null===(e=window)||void 0===e?void 0:e.ReactNativeWebView))},[]),e}},63426:(e,t,s)=>{"use strict";s.d(t,{TolgeeNextProvider:()=>p});var n=s(54568),r=s(7620),o=s(62942),a=s(68331),l=s(17967),i=s(89060),c=s(33822);let d=c._.NEXT_PUBLIC_TOLGEE_API_KEY,u=c._.NEXT_PUBLIC_TOLGEE_API_URL,m=(0,i.H_)().use((0,l.X)()).use((0,i.VD)()).updateDefaults({apiKey:d,apiUrl:u,ns:["","seo","home","offers","partners","cities","city","mkhyer","blog","help","journey","company","account","bookings","checkout","mkhyer","search","cities","contact","zod","cash-payment","errors"]}).init(),p=e=>{let{locale:t,staticData:s,children:l}=e,i=(0,a.Yu)(m,t,s),c=(0,o.useRouter)();return(0,r.useEffect)(()=>{let{unsubscribe:e}=i.on("permanentChange",()=>{c.refresh()});return()=>e()},[i,c]),(0,n.jsx)(a.IO,{tolgee:i,options:{useSuspense:!1},children:l})}},64148:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var n=s(54568);s(7620);var r=s(615),o=s(93928);let a=(0,r.F)("inline-flex select-none items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-400 text-white shadow hover:bg-green-500",warning:"border-transparent bg-yellow-400 text-white shadow hover:bg-yellow-500",custom:"shadow"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...r}=e;return(0,n.jsx)("div",{className:(0,o.cn)(a({variant:s}),t),...r})}},65165:(e,t,s)=>{"use strict";s.d(t,{p:()=>a});var n=s(54568),r=s(7620),o=s(93928);let a=r.forwardRef((e,t)=>{let{className:s,type:r,...a}=e;return(0,n.jsx)("input",{type:r,className:(0,o.cn)("flex h-11 w-full rounded-md border border-input bg-white px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-white file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 aria-[invalid=true]:border-destructive aria-[invalid=true]:focus-visible:ring-0 md:text-sm",s),ref:t,...a})});a.displayName="Input"},69902:(e,t,s)=>{"use strict";s.d(t,{L:()=>N});var n=s(54568),r=s(7620),o=s(62942),a=s(47227),l=s(41238),i=s(65165),c=s(23194),d=s(93928),u=s(68331),m=s(94018),p=s(73856),h=s(77926),f=s(12849),x=s(21054),g=s(11782),b=s(56467),j=s(17634),y=s(86180),v=s(28290);let w={ar:x.A,en:g.A,fr:b.A},N=r.forwardRef((e,t)=>{let{className:s,onChange:r,...a}=e,{locale:l}=(0,o.useParams)();return(0,n.jsx)(p.A,{metadata:j,ref:t,labels:w[l],international:!0,defaultCountry:"MA",countryCallingCodeEditable:!1,className:(0,d.cn)("flex rounded-md shadow-sm shadow-black/[.04]",s),flagComponent:k,countrySelectComponent:C,inputComponent:_,onChange:e=>null==r?void 0:r(e||""),...a})});N.displayName="PhoneInput";let _=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)(i.p,{className:(0,d.cn)("ltr:rounded-e-lg ltr:rounded-s-none ltr:border-s-0 ltr:text-start rtl:rounded-e-none rtl:rounded-s-lg rtl:border-e-0 rtl:text-end",s),...r,ref:t})});_.displayName="InputComponent";let C=e=>{let{disabled:t,value:s,onChange:o,options:i,className:m}=e,{t:p}=(0,u.WD)(),[f,x]=r.useState(!1),g=r.useCallback(e=>{o(e)},[o]),b=i.filter(e=>!["Western Sahara","Sahara Occidental","الصحراء الغربية"].includes(e.label));return(0,n.jsxs)(c.AM,{modal:!0,open:f,onOpenChange:x,children:[(0,n.jsx)(c.Wv,{asChild:!0,disabled:t,children:(0,n.jsxs)(a.$,{type:"button",variant:"secondary",className:(0,d.cn)("flex h-auto w-[60px] items-center justify-center gap-x-0 rounded-e-none rounded-s-lg px-3 shadow-none",m),disabled:t,children:[(0,n.jsx)(k,{country:s,countryName:s}),(0,n.jsx)(y.I,{name:"i-lucide-chevrons-up-down",className:(0,d.cn)("-me-1 opacity-50",t?"hidden":"opacity-100")})]})}),(0,n.jsx)(c.hl,{className:"w-[300px] p-0",align:"start",children:(0,n.jsx)(l.uB,{children:(0,n.jsx)(l.oI,{children:(0,n.jsxs)(v.ScrollArea,{className:"[&>[data-radix-scroll-area-viewport]]:max-h-[300px]",children:[(0,n.jsx)(l.G7,{placeholder:p("select-country","Select country...")}),(0,n.jsx)(l.xL,{children:"No country found."}),(0,n.jsx)(l.L$,{children:b.filter(e=>e.value).map(e=>(0,n.jsxs)(l.h_,{className:"flex gap-2",disabled:t,onSelect:()=>{t||(g(e.value),x(!1))},children:[(0,n.jsx)(k,{country:e.value,countryName:e.label}),(0,n.jsx)("span",{className:"flex-1 text-sm",children:e.label}),e.value&&(0,n.jsx)("span",{className:"text-sm text-foreground/50",dir:"ltr",children:"+".concat(h.Ko(e.value,j))}),(0,n.jsx)(y.I,{name:"i-lucide-check",className:(0,d.cn)(e.value===s?"opacity-100":"opacity-0")})]},e.value))})]})})})})]})},k=e=>{let{country:t,countryName:s}=e,r=f.Ay[t];return(0,n.jsx)("span",{className:"w-6 overflow-hidden rounded-sm",children:r?(0,n.jsx)(r,{title:s}):(0,n.jsx)(m.A,{size:16,"aria-hidden":"true"})})};k.displayName="FlagComponent"},72891:(e,t,s)=>{"use strict";s.d(t,{LoginModal:()=>N});var n=s(54568),r=s(7620),o=s(43851),a=s(19265),l=s(69902),i=s(34908),c=s(64410),d=s(89816),u=s(68331),m=s(30392),p=s(47227),h=s(65165),f=s(70752),x=s(70914),g=s(21016),b=s(56013),j=s(25382),y=s(93928),v=s(57707);let w=(0,r.createContext)({authMethod:void 0,clickedMethod:void 0,showVerifyOTP:!1,phoneNumber:void 0,lastUsedAuthMethod:void 0,setPhoneNumber:()=>{},setAuthMethod:()=>{},setClickedMethod:()=>{},setLastUsedAuthMethod:()=>{},setShowVerifyOTP:()=>{}});function N(){let{isOpen:e,setIsOpen:t,redirectUrl:s}=(0,x.X)(),[o,a]=(0,r.useState)(void 0),[l,i]=(0,r.useState)(!1),[d,u]=(0,r.useState)(void 0),[m,p]=(0,c.Mj)("last-used-auth-method",void 0),[h,g]=(0,r.useState)(void 0);return(0,n.jsx)(w.Provider,{value:{authMethod:h,clickedMethod:d,lastUsedAuthMethod:m,showVerifyOTP:l,phoneNumber:o,setPhoneNumber:a,setAuthMethod:g,setClickedMethod:u,setLastUsedAuthMethod:p,setShowVerifyOTP:i},children:(0,n.jsx)(f.aF,{open:e,onOpenChange:t,children:(0,n.jsx)(f.$m,{onOpenAutoFocus:e=>e.preventDefault(),onCloseAutoFocus:e=>e.preventDefault(),className:"flex h-full max-h-full max-w-[700px] overflow-hidden rounded-none md:h-auto md:flex-row md:!rounded-lg",showCloseButton:!1,children:(0,n.jsx)(_,{redirectUrl:s})})})})}function _(e){var t,s,o;let{redirectUrl:a}=e,l=(0,g.U)(),{isOpen:i,setIsOpen:d}=(0,x.X)(),m=(0,j.rd)(),{t:h}=(0,u.WD)(),v=(0,c.cy)(),{track:N}=(0,b.z)(),{authMethod:_,clickedMethod:S,lastUsedAuthMethod:T,setAuthMethod:E,setClickedMethod:z,setLastUsedAuthMethod:L,setShowVerifyOTP:O,showVerifyOTP:A}=(0,r.useContext)(w),{isMobile:I}=(0,c.Ub)();(0,r.useEffect)(()=>()=>{T||E(void 0),z(void 0),O(!1)},[]),(0,r.useEffect)(()=>{if(!I||!i)return;let e=e=>{if(e.preventDefault(),A){O(!1),window.history.pushState(null,"",window.location.href);return}if(_){E(void 0),z(void 0),window.history.pushState(null,"",window.location.href);return}d(!1)};return window.history.pushState(null,"",window.location.href),window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[i,I,A,_,d,E,z,O]),(0,r.useEffect)(()=>{let e=async e=>{try{(await fetch("/login/google/one-tap/callback",{method:"POST",body:JSON.stringify({idToken:e}),headers:{"Content-Type":"application/json","X-CSRF-Token":l},credentials:"include"}).then(e=>e.json())).success&&window.location.reload()}catch(e){m.push("/")}},t=async e=>{try{(await fetch("/login/apple/one-tap/callback",{method:"POST",body:JSON.stringify({idToken:e}),headers:{"Content-Type":"application/json","X-CSRF-Token":l},credentials:"include"}).then(e=>e.json())).success&&(N("apple_one_tap_success",{},{services:"posthog"}),window.location.reload())}catch(e){m.push("/")}},s=s=>{if("string"==typeof s.data)try{let n=JSON.parse(s.data);if("googleLoginSuccess"===n.type){let t=n.user;t.idToken&&e(t.idToken),d(!1),a&&(window.location.href=a)}else if("appleLoginSuccess"===n.type){let e=n.user;e.idToken&&t(e.idToken),d(!1),a&&(window.location.href=a)}else"loginFailed"===n.type&&(E(void 0),z(void 0))}catch(e){console.error("Failed to parse message:",e)}};return window.addEventListener("message",s),()=>window.removeEventListener("message",s)},[a,d]);let M=[{method:"google",component:(0,n.jsx)(()=>{let{redirectUrl:e}=(0,x.X)();return window.ReactNativeWebView?(0,n.jsx)(p.$,{text:"Sign in with Google",size:"xl",variant:"secondary",wrapperClassName:"justify-between w-full",textWrapperClassName:"flex-1",onClick:()=>{var e;z("google"),L("google"),null===(e=window.ReactNativeWebView)||void 0===e||e.postMessage("googleLoginClicked")},isLoading:"google"===S,disabled:S&&"google"!==S,icon:"i-logos-google-icon",iconClassName:"size-5 mr-2",className:"w-full border border-gray-300 bg-white text-gray-900 hover:bg-gray-50"}):(0,n.jsx)(p.$,{text:"Sign in with Google",asChild:!0,size:"xl",wrapperClassName:"justify-between w-full",textWrapperClassName:"flex-1",variant:"secondary",onClick:()=>{z("google"),L("google")},isLoading:"google"===S,disabled:S&&"google"!==S,icon:"i-logos-google-icon",iconClassName:"size-5 mr-2",className:"w-full border border-gray-300 bg-white text-gray-900 hover:bg-gray-50",children:(0,n.jsx)(j.N_,{href:e?"/login/google?redirectTo=".concat(encodeURIComponent(e)):"/login/google",prefetch:!1})})},{})},(null===(t=window)||void 0===t?void 0:t.navigator.userAgent.startsWith("expo"))&&"ios"===v||!(null===(s=window)||void 0===s?void 0:s.navigator.userAgent.startsWith("expo"))?{method:"apple",component:(0,n.jsx)(()=>{let{redirectUrl:e}=(0,x.X)();return window.ReactNativeWebView&&"ios"===v?(0,n.jsx)(p.$,{text:"Sign in with Apple",size:"xl",variant:"secondary",wrapperClassName:"justify-between w-full",textWrapperClassName:"flex-1",onClick:()=>{var e;z("apple"),L("apple"),null===(e=window.ReactNativeWebView)||void 0===e||e.postMessage("appleLoginClicked")},isLoading:"apple"===S,disabled:S&&"apple"!==S,icon:"i-logos-apple-icon",iconClassName:"size-5 mr-2 text-black",className:"w-full border border-gray-300 bg-white text-black hover:bg-gray-50"}):(0,n.jsx)(p.$,{text:"Sign in with Apple",asChild:!0,size:"xl",variant:"secondary",wrapperClassName:"justify-between w-full",textWrapperClassName:"flex-1",onClick:()=>{z("apple"),L("apple")},isLoading:"apple"===S,disabled:S&&"apple"!==S,icon:"i-logos-apple",iconClassName:"size-5 mr-2 text-black",className:"w-full border border-gray-300 bg-white text-black hover:bg-gray-50",children:(0,n.jsx)(j.N_,{href:e?"/login/apple?redirectTo=".concat(encodeURIComponent(e)):"/login/apple",prefetch:!1})})},{})}:null,{method:"phone",component:(0,n.jsx)(C,{})},{method:"email",component:(0,n.jsx)(k,{})}].filter(e=>null!==e),V=null===(o=M.find(e=>e.method===_))||void 0===o?void 0:o.component;return(0,n.jsxs)(n.Fragment,{children:[_&&("phone"===_||"email"===_)&&I?null:(0,n.jsxs)(f.rQ,{className:"relative flex w-full flex-col items-center justify-center gap-y-2 border-b border-gray-200 bg-brand-50 px-4 py-4 md:w-[300px]",children:[(0,n.jsx)("div",{className:"size-[100px] overflow-hidden rounded-xl shadow-[rgba(0,_0,_0,_0.24)_0px_0px_8px]",children:(0,n.jsx)("img",{src:"/favicon.ico",alt:"markoub.ma logo",width:100,height:100,className:"h-[100px] w-full object-cover brightness-105 saturate-150"})}),(0,n.jsx)(f.wt,{className:"!text-center text-xl font-bold text-neutral-950 md:text-start",children:h("auth-log-in-title")}),(0,n.jsx)(f.mw,{className:"!text-center text-sm text-neutral-500 md:text-start",children:h("auth-log-in-description","Enjoy faster bookings and refunds as well as access to discounts with our referral program.")})]}),(0,n.jsx)(p.$,{variant:"empty",size:"icon",icon:"i-ph-x-bold",iconClassName:"size-6 text-gray-500",className:"absolute end-2 top-2 z-50",onClick:()=>d(!1)}),(0,n.jsxs)(f.cw,{className:(0,y.cn)("relative flex w-full flex-1 flex-col gap-6 bg-white px-4 py-4 md:px-8",_&&("phone"===_||"email"===_)?"md:items-center md:justify-center":""),children:[_&&("phone"===_||"email"===_)&&(0,n.jsx)(p.$,{variant:"empty",size:"sm",icon:"i-ph-caret-left-bold",className:"absolute start-2.5 top-2 self-start rtl:-scale-100",onClick:()=>{E(void 0),z(void 0)},iconClassName:"size-6 text-gray-500"}),(0,n.jsx)("div",{className:(0,y.cn)("flex w-full flex-col gap-3"),children:_&&("phone"===_||"email"===_)?(0,n.jsxs)("div",{className:"mt-10 flex flex-col gap-4 md:mt-0",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold",children:h("auth-log-in")}),A?(0,n.jsx)("div",{className:"grid w-full gap-3 p-1",children:(0,n.jsx)(P,{modalOpen:i,setIsOpen:d})}):V]}):(0,n.jsxs)("div",{className:"flex flex-col gap-3 md:mt-10",children:[_&&(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[V,_===T&&(0,n.jsx)("div",{className:"text-center text-xs",children:(0,n.jsx)("span",{className:"text-gray-500",children:h("auth-last-time","You signed in with {method} last time",{method:T.charAt(0).toUpperCase()+T.slice(1)})})}),(0,n.jsxs)("div",{className:"my-2 flex flex-shrink items-center justify-center gap-2",children:[(0,n.jsx)("div",{className:"grow basis-0 border-b border-gray-300"}),(0,n.jsx)("span",{className:"text-xs font-normal uppercase leading-none text-gray-500",children:"or"}),(0,n.jsx)("div",{className:"grow basis-0 border-b border-gray-300"})]})]}),M.filter(e=>e.method!==_).map(e=>(0,n.jsx)("div",{children:e.component},e.method)),(0,n.jsxs)("p",{className:"mt-4 text-center text-xs text-gray-500",children:[h("terms-announce","By creating an account you agree to our")," ",(0,n.jsx)("br",{}),(0,n.jsx)(j.N_,{href:"/terms",target:"_blank",className:"text-brand",children:h("terms")})," ",h("and")," ",(0,n.jsx)(j.N_,{href:"/privacy",target:"_blank",className:"text-brand",children:h("privacy")})]})]})})]})]})}let C=()=>{let e=(0,o.mN)({schema:m.X5,defaultValues:{phoneNumber:""}}),{t}=(0,u.WD)(),{track:s}=(0,b.z)(),{authMethod:a,clickedMethod:c,setPhoneNumber:d,setClickedMethod:h,setAuthMethod:f,setLastUsedAuthMethod:x,setShowVerifyOTP:g}=(0,r.useContext)(w),j=v.F.auth.sendOTPCode.useMutation({onSuccess:(t,s)=>{t&&(x("phone"),d(s.phoneNumber),g(!0),e.reset())},onError:e=>{h(void 0)}}),y=e.handleSubmit(e=>{h("phone"),j.isPending||i.o.promise(j.mutateAsync({phoneNumber:e.phoneNumber,smsType:e.smsType}),{loading:t("otp.sending"),success:t("otp.sent"),error:t("otp.not-sent")})});return(0,n.jsx)(o.lV,{...e,children:(0,n.jsxs)("form",{onSubmit:y,className:"flex flex-col space-y-3 text-start",children:["phone"===a&&(0,n.jsx)(o.zB,{control:e.control,name:"phoneNumber",render:e=>{let{field:s}=e;return(0,n.jsxs)(o.eI,{children:[(0,n.jsx)(o.lR,{children:t("forms.phone.labels.default")}),(0,n.jsx)(o.MJ,{children:(0,n.jsx)(l.L,{...s,className:"h-11",placeholder:t("your-phone-number","Your phone number"),disabled:j.isPending})}),(0,n.jsx)(o.C5,{})]})}}),"phone"!==a?(0,n.jsx)(p.$,{size:"xl",text:t("continue-with-phone","Continue with phone"),type:"button",icon:"i-logos-whatsapp-icon",wrapperClassName:"justify-between w-full",textWrapperClassName:"flex-1",iconClassName:"size-5",variant:"secondary",onClick:e=>{e.preventDefault(),f("phone")},disabled:c&&"phone"!==c}):(0,n.jsxs)("div",{className:"flex flex-col items-center justify-between gap-2 sm:flex-row",children:[(0,n.jsx)(p.$,{text:"Whatsapp",type:"submit",className:"w-full flex-1",icon:"i-logos-whatsapp-icon",iconClassName:"size-5",variant:"secondary",onClick:()=>{e.setValue("smsType","whatsapp")},isLoading:j.isPending&&"whatsapp"===e.getValues().smsType,disabled:j.isPending||c&&"phone"!==c}),(0,n.jsx)(p.$,{text:"SMS",type:"submit",icon:"i-hugeicons-message-01",className:"w-full flex-1",iconClassName:"size-5",variant:"secondary",onClick:()=>{e.setValue("smsType","sms")},isLoading:j.isPending&&"sms"===e.getValues().smsType,disabled:!0})]})]})})},k=()=>{let e=(0,o.mN)({schema:m.V5,defaultValues:{email:""}}),{t}=(0,u.WD)(),{track:s}=(0,b.z)(),{authMethod:a,clickedMethod:l,setClickedMethod:c,setAuthMethod:d,setLastUsedAuthMethod:f}=(0,r.useContext)(w),x=v.F.auth.sendEmailLink.useMutation({onSuccess:()=>{e.reset({email:""}),f("email"),c(void 0)},onError:e=>{c(void 0)}}),g=e.handleSubmit(e=>{c("email"),x.isPending||i.o.promise(x.mutateAsync({email:e.email}),{loading:t("magic-link.sending","Sending login link..."),success:t("magic-link.sent","Check your email inbox for the login link"),error:t("magic-link.not-sent","Failed to send login link, please try again later")})});return(0,n.jsx)(o.lV,{...e,children:(0,n.jsxs)("form",{onSubmit:g,className:"flex flex-col space-y-3 text-start",children:["email"===a&&(0,n.jsx)(o.zB,{control:e.control,name:"email",render:e=>{let{field:s}=e;return(0,n.jsxs)(o.eI,{children:[(0,n.jsx)(o.lR,{children:t("forms.email.labels.default","Email")}),(0,n.jsx)(o.MJ,{children:(0,n.jsx)(h.p,{type:"email",placeholder:t("your-email-address","Your email address"),autoComplete:"email webauthn",className:"h-11",disabled:x.isPending,...s})}),(0,n.jsx)(o.C5,{})]})}}),"email"!==a?(0,n.jsx)(p.$,{size:"xl",text:t("continue-with-email","Continue with email"),type:"button",icon:"i-ph-at-bold",wrapperClassName:"justify-between w-full",textWrapperClassName:"flex-1",iconClassName:"size-5",variant:"secondary",onClick:e=>{e.preventDefault(),d("email")},disabled:l&&"email"!==l}):(0,n.jsx)(p.$,{size:"xl",text:t("send-login-link","Send login link"),type:"submit",iconClassName:"size-5",icon:"i-hugeicons-mail-02",variant:"secondary",isLoading:x.isPending,disabled:l&&"email"!==l})]})})},P=e=>{let{modalOpen:t,setIsOpen:s}=e,l=(0,j.rd)(),h=(0,r.useRef)(null),{phoneNumber:f}=(0,r.useContext)(w),{isMobile:g}=(0,c.Ub)(),{track:y}=(0,b.z)(),{t:N}=(0,u.WD)(),{redirectUrl:_}=(0,x.X)(),C=v.F.auth.validateOtp.useMutation({onSuccess:e=>{e.success&&(S.reset(),_?l.push(_):l.push(d.J.Home),l.refresh(),t&&s&&s(!1),P(!1))},onError:e=>{S.reset({code:"",phoneNumber:f}),P(!1)}}),[k,P]=(0,r.useState)(!1),S=(0,o.mN)({schema:m.NZ,defaultValues:{phoneNumber:f}}),T=S.handleSubmit(e=>{k||(P(!0),i.o.promise(C.mutateAsync(e),{loading:N("otp.verifying"),success:N("otp.verified"),error:N("otp.not-verified")}))}),E=async e=>{6===e.length&&await T()};return(0,n.jsx)(o.lV,{...S,children:(0,n.jsxs)("form",{ref:h,onSubmit:T,className:"flex flex-col space-y-3",children:[(0,n.jsx)(o.zB,{control:S.control,name:"code",render:e=>{let{field:t}=e;return(0,n.jsxs)(o.eI,{children:[(0,n.jsx)(o.MJ,{children:(0,n.jsx)(a.UV,{...t,maxLength:6,autoFocus:!g,onComplete:E,children:(0,n.jsxs)(a.NV,{dir:"ltr",className:"mx-auto justify-center",children:[Array.from({length:3},(e,t)=>(0,n.jsx)(a.sF,{index:t,className:"h-14 w-11 text-lg shadow-md"},t)),(0,n.jsx)(a.pf,{}),Array.from({length:3},(e,t)=>(0,n.jsx)(a.sF,{index:t+3,className:"h-14 w-11 text-lg shadow-md"},t+3))]})})}),(0,n.jsx)(o.C5,{})]})}}),(0,n.jsx)(p.$,{size:"xl",text:N("confirm"),type:"submit",variant:"secondary",isLoading:k})]})})}},75075:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var n=s(54568),r=s(93928);function o(e){let{className:t,children:s}=e;return(0,n.jsx)("div",{className:(0,r.cn)("mx-auto w-full max-w-screen-lg px-3 lg:px-4 xl:px-0",t),children:s})}},78765:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var n=s(7620);function r(e){let[t,s]=(0,n.useState)(!1),r=(0,n.useCallback)(()=>{s(window.scrollY>e)},[e]);return(0,n.useEffect)(()=>(window.addEventListener("scroll",r),r(),()=>window.removeEventListener("scroll",r)),[r]),t}},83239:()=>{},87808:(e,t,s)=>{"use strict";s.d(t,{ConsentBanner:()=>c});var n=s(54568),r=s(7620),o=s(68331),a=s(63178),l=s(47227);let i="MRKBCOOKIECONSENT";function c(){let e=(0,a.K)(),[t,s]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{localStorage.getItem(i)||setTimeout(()=>{s(!0)},1e4)},[]),e||!t)?null:(0,n.jsxs)("div",{className:"fixed inset-x-0 bottom-2 z-[1000] mx-auto flex max-w-screen-lg flex-col justify-between gap-x-8 gap-y-4 rounded-lg bg-white p-6 px-8 shadow-xl shadow-black/5 ring-1 ring-gray-900/10 md:flex-row md:items-center",children:[(0,n.jsx)("p",{className:"max-w-4xl text-sm leading-6 text-gray-900",children:(0,n.jsx)(o.T,{keyName:"cookie-consent",defaultValue:"This website uses cookies to improve your browsing experience, personalize content, and analyze traffic. By continuing to use this site, you agree to our use of cookies."})}),(0,n.jsx)("div",{className:"flex flex-none items-center gap-x-5",children:(0,n.jsx)(l.$,{onClick:()=>{localStorage.setItem(i,"accepted"),s(!1)},variant:"brand",children:(0,n.jsx)(o.T,{keyName:"accept",defaultValue:"Accept"})})})]})}},89816:(e,t,s)=>{"use strict";s.d(t,{I:()=>r,J:()=>n});var n=function(e){return e.Home="/",e.Signup="/signup",e.Profile="/settings/account",e.VerifyEmail="/verify-email",e.ResetPassword="/reset-password",e}({});let r=["/search","/checkout"]}},e=>{var t=t=>e(e.s=t);e.O(0,[2658,9386,803,7633,8072,9304,5388,887,386,8331,959,4055,6381,8499,3341,1929,8756,496,2341,5023,2568,1874,5032,2379,1399,3658,38,4043,8983,5252,8620,587,8315,7358],()=>t(37627)),_N_E=e.O()}]);