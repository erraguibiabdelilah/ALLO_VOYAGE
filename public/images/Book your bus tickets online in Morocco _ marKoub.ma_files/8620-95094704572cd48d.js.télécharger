"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8620],{21016:(e,t,n)=>{n.d(t,{CSRFProvider:()=>o,U:()=>i});var r=n(54568),a=n(7620);let l=a.createContext(null);function o(e){let{children:t,value:n}=e;return(0,r.jsx)(l,{value:n,children:t})}function i(){let e=a.use(l);if(!e)throw Error("useCsrf must be used within a CSRFProvider");return e}},23194:(e,t,n)=>{n.d(t,{AM:()=>i,Wv:()=>u,hl:()=>s});var r=n(54568),a=n(7620),l=n(97404),o=n(93928);let i=l.bL,u=l.l9;l.Mz;let s=a.forwardRef((e,t)=>{let{className:n,align:a="center",sideOffset:i=4,...u}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsx)(l.UC,{ref:t,align:a,sideOffset:i,className:(0,o.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...u})})});s.displayName=l.UC.displayName},30392:(e,t,n)=>{n.d(t,{_Y:()=>H,Ju:()=>W,HH:()=>m,oM:()=>d,V5:()=>o,X5:()=>l,_U:()=>s,_x:()=>L,q8:()=>u,NZ:()=>i,W1:()=>F});var r=n(20880),a=n(89477);let l=r.z.object({phoneNumber:a.MA,smsType:r.z.enum(["whatsapp","sms"])}),o=r.z.object({email:r.z.string().trim().min(1).email().toLowerCase()});r.z.object({name:r.z.string().trim().min(1).min(3).max(25),phoneNumber:a.MA,smsType:r.z.enum(["whatsapp","sms"])});let i=r.z.object({phoneNumber:a.MA,code:r.z.string().trim().min(1).length(6)}),u=r.z.object({name:r.z.string().trim().min(1).min(3).max(25).optional(),email:r.z.string().trim().min(1).email().optional(),phone:a.MA.optional()}),s=r.z.object({code:r.z.string().trim().min(1).length(4)}),d=r.z.object({reason:r.z.string().trim().min(1).max(255),code:r.z.string().trim().min(1).length(4)}),m=d.omit({code:!0}).extend({otherReason:r.z.string().trim().min(1).min(15).max(255).optional()}).refine(e=>"other"!==e.reason||!!e.otherReason&&""!==e.otherReason.trim(),{path:["otherReason"]}),c=r.z.object({id:r.z.number().or(r.z.string()).nullable(),basePrice:r.z.number(),discountType:r.z.enum(["fixed","percentage"]).nullable(),discountValue:r.z.number().nullable(),reduction:r.z.enum(["discount","promotion"]).or(r.z.string()).nullable(),finalPrice:r.z.number(),serviceFees:r.z.number(),promotionId:r.z.number().nullable()}),p=r.z.object({journeyId:r.z.string(),busId:r.z.number().nullable(),companyId:r.z.number(),company:r.z.object({id:r.z.number(),name:r.z.string(),logo:r.z.string()}),bus:r.z.object({id:r.z.number(),name:r.z.string(),image:r.z.string()}).nullable(),from:r.z.object({stationId:r.z.number().nullable(),cityId:r.z.number(),cityName:r.z.string(),stationName:r.z.string(),latitude:r.z.string().nullable().optional(),longitude:r.z.string().nullable().optional()}),to:r.z.object({stationId:r.z.number().nullable(),cityId:r.z.number(),cityName:r.z.string(),stationName:r.z.string(),latitude:r.z.string().nullable().optional(),longitude:r.z.string().nullable().optional()}),inventory:r.z.string(),time:r.z.string(),date:r.z.date(),price:c});r.z.object({checkoutId:r.z.string(),type:r.z.enum(["one-way","round-trip"]).default("one-way"),nbrOfPassengers:r.z.coerce.number(),userId:r.z.string(),ttl:r.z.number(),timestamp:r.z.number(),totalPrice:r.z.number(),journeys:r.z.array(p.extend({selectedSeats:r.z.object({seatNumber:r.z.number(),tripBusProfileId:r.z.number().optional(),ticketNumber:r.z.string().optional()}).array()}))});var b=n(68575),z=n(46590),f=n(32537),g=n(28937),_=n(9208),y=n(96404),N=n(8034),h=n(41070),T=n(34696),E=n(46297),v=n(99997),I=n(88962),C=n(5928),w=n(19577),x=n(58673);function D(){let e=(0,z._)(["CURRENT_TIMESTAMP"]);return D=function(){return e},e}function P(){let e=(0,z._)(["CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP"]);return P=function(){return e},e}function k(){let e=(0,z._)(["CURRENT_TIMESTAMP"]);return k=function(){return e},e}function j(){let e=(0,z._)(["CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP"]);return j=function(){return e},e}function A(){let e=(0,z._)(["CURRENT_TIMESTAMP"]);return A=function(){return e},e}let U=["event","promotion","campaign","loyalty","new-customer","partner","booking","student","student-pass-jeunes","offline-campaign"];(0,_.Nn)("discounts",{id:(0,w.vX)("id").primaryKey(),name:(0,y.yf)("name",{length:255}).notNull(),code:(0,y.yf)("code",{length:255}).notNull().unique(),sponsoredBy:(0,y.yf)("sponsored_by",{length:255,enum:["markoub","company","both"]}).notNull().default("markoub"),markoubAmount:(0,N._)("markoub_amount",{precision:10,scale:2}).notNull().default("0"),companyAmount:(0,N._)("company_amount",{precision:10,scale:2}).notNull().default("0"),amountType:(0,h.gR)("amount_type",["fixed","percentage"]).notNull().default("fixed"),amount:(0,N._)("amount",{precision:10,scale:2}).notNull().default("0"),partnerId:(0,T.Wh)("partner_id"),reason:(0,y.yf)("reason",{length:255,enum:U}).default("event").notNull(),startDate:(0,w.nL)("start_date"),endDate:(0,w.nL)("end_date"),appliesTo:(0,h.gR)("applies_to",["company","bus","all"]).notNull().default("all"),idsToApplyTo:(0,E.Pq)("ids_to_apply_to").$type(),isActive:(0,v.zM)("is_active").notNull().default(!0),userId:(0,y.yf)("user_id",{length:255}),redemptions:(0,T.Wh)("redemptions").notNull().default(0),redemptionsLimit:(0,T.Wh)("redemptions_limit"),firstTime:(0,v.zM)("first_time").notNull().default(!1),bookingId:(0,T.Wh)("booking_id"),isDeleted:(0,v.zM)("is_deleted").notNull().default(!1),deletedBy:(0,y.yf)("deleted_by",{length:255}),createdBy:(0,y.yf)("created_by",{length:255}),deletedAt:(0,I.vE)("deleted_at"),createdAt:(0,I.vE)("created_at").notNull().default((0,f.ll)(D())),updatedAt:(0,I.vE)("updated_at").notNull().default((0,f.ll)(P()))});let M=(0,_.Nn)("promotions",{id:(0,w.vX)("id").primaryKey(),name:(0,y.yf)("name",{length:255}).notNull(),reason:(0,y.yf)("reason",{length:255,enum:["reklam","event","black-friday","sale"]}),sponsoredBy:(0,y.yf)("sponsored_by",{length:255,enum:["markoub","company","both"]}).notNull().default("markoub"),markoubAmount:(0,N._)("markoub_amount",{precision:10,scale:2}).notNull().default("0"),companyAmount:(0,N._)("company_amount",{precision:10,scale:2}).notNull().default("0"),amountType:(0,h.gR)("amount_type",["fixed","percentage"]).notNull().default("fixed"),amount:(0,N._)("amount",{precision:10,scale:2}).notNull().default("0"),startDate:(0,w.nL)("start_date"),endDate:(0,w.nL)("end_date"),isActive:(0,v.zM)("is_active").notNull().default(!0),redemptions:(0,T.Wh)("redemptions").notNull().default(0),redemptionsLimit:(0,T.Wh)("redemptions_limit"),firstTime:(0,v.zM)("first_time").notNull().default(!1),appliesTo:(0,h.gR)("applies_to",["company","bus","route","all"]).notNull(),idsToApplyTo:(0,E.Pq)("ids_to_apply_to").$type(),createdBy:(0,y.yf)("created_by",{length:255}),deletedBy:(0,y.yf)("deleted_by",{length:255}),isDeleted:(0,v.zM)("is_deleted").notNull().default(!1),deletedAt:(0,I.vE)("deleted_at"),createdAt:(0,I.vE)("created_at").notNull().default((0,f.ll)(k())),updatedAt:(0,I.vE)("updated_at").notNull().default((0,f.ll)(j()))}),R=(0,_.Nn)("offers",{id:(0,w.vX)("id").primaryKey(),image:(0,C.Qq)("image").notNull(),routeId:(0,T.Wh)("route_id"),journeyId:(0,y.yf)("journey_id",{length:255}),departureCityId:(0,T.Wh)("departure_city_id"),arrivalCityId:(0,T.Wh)("arrival_city_id"),isActive:(0,v.zM)("is_active").notNull().default(!0),from:(0,w.nL)("from"),to:(0,w.nL)("to"),createdAt:(0,I.vE)("created_at").notNull().default((0,f.ll)(A()))});(0,g.K1)(M,e=>{let{many:t,one:n}=e;return{offers:t(R)}}),(0,g.K1)(R,e=>{let{one:t}=e;return{route:t(x.Fl,{fields:[R.routeId],references:[x.Fl.id]})}});let L=r.z.object({departureCityId:r.z.number(),arrivalCityId:r.z.number(),departureDate:a.Vl.default(new Date),returnDate:a.Vl.optional().nullable(),nbrOfPassengers:r.z.number().min(1).max(15).default(1)});r.z.object({date:a.Vl,departureCityId:r.z.number(),arrivalCityId:r.z.number(),nbrOfPassengers:r.z.coerce.number(),searchType:r.z.enum(["direct","return"]).default("direct")}),r.z.object({from:r.z.number(),to:r.z.number()}).array();let B=r.z.object({time:r.z.string(),date:r.z.string().date(),stationId:r.z.number().nullable(),markerId:r.z.number().or(r.z.string()).nullable(),cityId:r.z.number(),ghazalaCode:r.z.string().nullable().optional(),satCode:r.z.string().nullable().optional(),supratoursCode:r.z.string().nullable().optional(),cityName:r.z.string(),stationName:r.z.string(),stationAddress:r.z.string().nullable().optional(),latitude:r.z.string().nullable().optional(),longitude:r.z.string().nullable().optional(),daysElapsed:r.z.number().default(0).nullable().optional(),order:r.z.number().nullable().optional()}),S=r.z.object({journeyId:r.z.string(),searchType:r.z.enum(["direct","return"]).default("direct")});S.extend({busId:r.z.number().nullable(),companyId:r.z.number(),inventory:r.z.enum(b.bM),from:B,to:B}),r.z.object({type:r.z.enum(["one-way","round-trip"]).default("one-way"),nbrOfPassengers:r.z.coerce.number(),journeys:r.z.array(S),tripType:r.z.enum(["one-way","round-trip"]).default("one-way"),sessionId:r.z.string().optional().nullable()});let O=r.z.object({id:r.z.number().or(r.z.string()).nullable(),basePrice:r.z.number(),originalPrice:r.z.number(),discountType:r.z.enum(["fixed","percentage"]).nullable(),discountValue:r.z.number().nullable(),reduction:r.z.enum(["discount","promotion"]).or(r.z.string()).nullable(),finalPrice:r.z.number(),serviceFees:r.z.number(),promotionId:r.z.number().nullable(),totalFinalPrice:r.z.number()}),X=r.z.object({id:r.z.number().nullable(),name:r.z.string().nullable(),amount:r.z.number().nullable(),amountType:r.z.enum(["percentage","fixed"]).nullable(),markoubAmount:r.z.number().nullable(),companyAmount:r.z.number().nullable(),firstTime:r.z.boolean().nullable()});r.z.object({id:r.z.string(),searchDate:r.z.string().date(),departureDate:r.z.string().date(),arrivalDate:r.z.string().date(),searchType:r.z.enum(["direct","return"]).default("direct"),departureTime:r.z.string(),arrivalTime:r.z.string(),inventory:r.z.enum(b.bM),price:O,promotion:X.nullable(),daysElapsed:r.z.number().default(0).nullable(),extra:r.z.any().optional().nullable(),from:B,to:B,companyId:r.z.number(),busId:r.z.number().nullable(),showSeatMap:r.z.boolean().default(!0),busDepartureDate:r.z.string().optional().nullable()}),r.z.object({nbrOfRetries:r.z.number().default(0),locale:r.z.string().default("fr"),status:r.z.enum(["created","pending","approved","cancelled"]).default("created"),paymentMethod:r.z.enum(["partner","cmi","paypal","fatourati","m2t","balance","fatourati-bank-app"]).optional().nullable(),checkoutId:r.z.string(),bookingCode:r.z.string().optional().nullable(),externalId:r.z.string().optional().nullable(),referredBy:r.z.string().optional().nullable(),type:r.z.enum(["one-way","round-trip"]).default("one-way"),nbrOfPassengers:r.z.coerce.number(),userId:r.z.string(),ttl:r.z.number(),timestamp:r.z.number(),totalPrice:r.z.number(),balanceDeducted:r.z.number().nullable().optional(),tripType:r.z.enum(["one-way","round-trip"]).default("one-way"),journeys:r.z.array(r.z.object({journeyId:r.z.string(),searchType:r.z.enum(["direct","return"]),busId:r.z.number().nullable(),companyId:r.z.number(),inventory:r.z.enum(b.bM),from:B,to:B,time:r.z.string(),busDepartureDate:r.z.string().optional().nullable(),selectedSeats:r.z.object({seatNumber:r.z.number(),tripBusProfileId:r.z.number().optional(),ticketNumber:r.z.string().optional()}).array().nullable(),price:O,promotion:X.nullable(),showSeatMap:r.z.boolean(),extra:r.z.any().optional().nullable()})),voucher:r.z.object({id:r.z.number(),code:r.z.string().max(25),reason:r.z.enum(U),type:r.z.enum(["percentage","fixed"]),amount:r.z.number(),appliesTo:r.z.enum(["all","company","bus"]).optional().nullable(),idsToApplyTo:r.z.number().array().optional().nullable(),sponsoredBy:r.z.enum(["markoub","company","both"]).optional().nullable()}).optional().nullable(),previousBookingId:r.z.number().optional().nullable()});let H=r.z.object({firstName:r.z.string().trim().min(1).min(3).max(25),lastName:r.z.string().trim().min(1).min(3).max(25),email:r.z.string().trim().min(1).email(),phone:a.MA,acceptTerms:r.z.boolean().refine(e=>!0===e,{params:{i18n:"terms"}}),receivePromotions:r.z.boolean().optional().default(!1)});r.z.object({bookingCode:r.z.string(),paymentMethod:r.z.enum(["balance","cmi","fatourati","m2t","fatourati","fatourati-bank-app"]),"cf-turnstile-response":r.z.string(),acceptTerms:r.z.boolean().refine(e=>!0===e,{params:{i18n:"terms"}})});let F=r.z.object({code:r.z.string().trim().min(1).min(4)}),W=r.z.object({reason:r.z.string().trim().min(1).max(255),bookingCode:r.z.string().trim().min(1),routeCode:r.z.string().min(1),message:r.z.string().trim().min(1).min(20).max(1500)});r.z.object({bookingCode:r.z.string(),routeCode:r.z.string(),reason:r.z.string().max(255),method:r.z.enum(["cmi","cash","balance","paypal","converted-balance"])}),r.z.object({bookingCode:r.z.string(),routeCode:r.z.string(),date:a.Vl})},33822:(e,t,n)=>{n.d(t,{_:()=>i});var r=n(50166),a=n(46521),l=n(20880),o=n(40459);let i=(0,r.w)({extends:[(0,a.II)()],shared:{NODE_ENV:l.z.enum(["development","production","test"]).default("development")},server:{DB_URL:l.z.string().url(),PAYLOAD_DATABASE_URI:l.z.string(),PAYLOAD_SECRET:l.z.string(),UNDER_CONSTRUCTION:l.z.string().optional(),UNDER_CONSTRUCTION_AUTH_TOKEN:l.z.string().optional(),UNDER_CONSTRUCTION_ACCESS_CODE:l.z.string().optional()},client:{NEXT_PUBLIC_CRISP_WEBSITE_ID:l.z.string(),NEXT_PUBLIC_POSTHOG_KEY:l.z.string(),NEXT_PUBLIC_TOLGEE_API_KEY:l.z.string(),NEXT_PUBLIC_TOLGEE_API_URL:l.z.string(),NEXT_PUBLIC_PAYPAL_CLIENT_ID:l.z.string(),NEXT_PUBLIC_TURNSTILE_SITE_KEY:l.z.string(),NEXT_PUBLIC_PAYMENT_MODE:l.z.enum(["dev","live"]).default("dev"),NEXT_PUBLIC_WEBSITE_URL:l.z.string().optional(),NEXT_PUBLIC_GOOGLE_CLIENT_ID:l.z.string()},experimental__runtimeEnv:{NODE_ENV:"production",NEXT_PUBLIC_CRISP_WEBSITE_ID:"ceec1488-42eb-475a-97d2-237e0b67c840",NEXT_PUBLIC_POSTHOG_KEY:"phc_r7zftMdBVgN1ljpXJniPETYnZ73FpvuFbCju3TzHi8c",NEXT_PUBLIC_TOLGEE_API_KEY:"tgpak_gjpwemdnnbrtgmdcoqygqzjzgmyhcylfn5uxmyjznrswk",NEXT_PUBLIC_TOLGEE_API_URL:"https://i18n-tolgee.markoub.dev",NEXT_PUBLIC_PAYPAL_CLIENT_ID:"AcXPrAgOM6c2Whqcf9TMWG4JLhDq9_Gctns9IEeYGPFLFgdTzKvjOC_-o25OoYnvftCdjcRoioEcV6z1",NEXT_PUBLIC_TURNSTILE_SITE_KEY:"0x4AAAAAAAykPuZXasxIRZk8",NEXT_PUBLIC_PAYMENT_MODE:"live",NEXT_PUBLIC_WEBSITE_URL:"https://markoub.ma",NEXT_PUBLIC_GOOGLE_CLIENT_ID:"973952439519-9835hn99k1tmt572s7oaohos4k9a5ci1.apps.googleusercontent.com"},skipValidation:!!o.env.CI||"lint"===o.env.npm_lifecycle_event})},41238:(e,t,n)=>{n.d(t,{G7:()=>c,Gj:()=>m,L$:()=>z,Y:()=>g,h_:()=>f,oI:()=>p,uB:()=>d,xL:()=>b});var r=n(54568),a=n(7620),l=n(93928),o=n(84498),i=n(58448),u=n(86180),s=n(70752);let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(i.uB,{ref:t,className:(0,l.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n),...a})});d.displayName=i.uB.displayName;let m=e=>{let{children:t,...n}=e;return(0,r.jsxs)(s.aF,{...n,children:[(0,r.jsx)(o.s,{children:(0,r.jsxs)(s.rQ,{children:[(0,r.jsx)(s.wt,{}),(0,r.jsx)(s.mw,{})]})}),(0,r.jsx)(s.$m,{className:"overflow-hidden p-0",children:(0,r.jsx)(d,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t})})]})},c=a.forwardRef((e,t)=>{let{className:n,parentClassName:a,icon:o,iconClassName:s,...d}=e;return(0,r.jsxs)("div",{className:(0,l.cn)("flex items-center border-b px-3",a),"cmdk-input-wrapper":"",children:[(0,r.jsx)(u.I,{name:null!=o?o:"i-ph-magnifying-glass-bold",className:(0,l.cn)("me-2 size-4 shrink-0 opacity-50",s)}),(0,r.jsx)(i.uB.Input,{ref:t,className:(0,l.cn)("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",n),...d})]})});c.displayName=i.uB.Input.displayName;let p=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(i.uB.List,{ref:t,className:(0,l.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",n),...a})});p.displayName=i.uB.List.displayName;let b=a.forwardRef((e,t)=>(0,r.jsx)(i.uB.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));b.displayName=i.uB.Empty.displayName;let z=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(i.uB.Group,{ref:t,className:(0,l.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",n),...a})});z.displayName=i.uB.Group.displayName,a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(i.uB.Separator,{ref:t,className:(0,l.cn)("-mx-1 h-px bg-border",n),...a})}).displayName=i.uB.Separator.displayName;let f=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(i.uB.Item,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",n),...a})});f.displayName=i.uB.Item.displayName;let g=i.uB.Loading},47092:(e,t,n)=>{n.d(t,{SessionProvider:()=>i,w:()=>o});var r=n(54568),a=n(7620);let l=(0,a.createContext)({session:null,user:null}),o=()=>(0,a.useContext)(l),i=e=>{let{children:t,value:n}=e;return(0,r.jsx)(l.Provider,{value:n,children:t})}},57707:(e,t,n)=>{let r;n.d(t,{TRPCReactProvider:()=>_,F:()=>g});var a=n(54568),l=n(7620),o=n(7703),i=n(87606),u=n(48134),s=n(69415),d=n(90438),m=n(21016),c=n(33822),p=n(31354),b=n(68512);let z=()=>new p.E({defaultOptions:{queries:{staleTime:3e4,refetchOnWindowFocus:!1,retry:!1},dehydrate:{serializeData:d.Ay.serialize,shouldDehydrateQuery:e=>(0,b.XS)(e)||"pending"===e.state.status},hydrate:{deserializeData:d.Ay.deserialize}}});n(40459);let f=()=>null!=r?r:r=z(),g=(0,s.pY)();function _(e){let t=f(),n=(0,m.U)(),[r]=(0,l.useState)(()=>g.createClient({links:[(0,u.$H)({enabled:e=>!o.S$&&("development"===c._.NODE_ENV||"down"===e.direction&&e.result instanceof Error)}),(0,u.fu)({transformer:d.Ay,url:y()+"/api/trpc",fetch:(e,t)=>fetch(e,{...t,credentials:"include"}),headers(){let e=new Headers;return e.set("x-trpc-source","nextjs-react"),e.set("X-CSRF-Token",null!=n?n:""),e}})]})),s=(0,l.useMemo)(()=>e.children,[]);return(0,a.jsx)(i.QueryClientProvider,{client:t,children:(0,a.jsx)(g.Provider,{client:r,queryClient:t,children:s})})}let y=()=>window.location.origin},64357:(e,t,n)=>{n.d(t,{ye:()=>T,eu:()=>p,Os:()=>h,fU:()=>N,F9:()=>E}),n(40459);var r=n(11475),a=n(98987),l=n(63398),o=n(88374),i=n(73510),u=n(63341),s=n(63707),d=n(96130),m=n(16771),c=n(24126);function p(e,t,n){let r;switch(t){case"en":default:r=d.enUS;break;case"ar":r=m.E;break;case"fr":r=c.fr}return(0,s.qD)(e,"UTC",n,{locale:r})}let b=new Date;b.setUTCDate(1),b.setUTCHours(0,0,0,0);let z=new Date;z.setUTCDate(z.getUTCDate()-z.getUTCDay()),z.setUTCHours(0,0,0,0);let f=new Date;f.setUTCMonth(0),f.setUTCDate(1),f.setUTCHours(0,0,0,0);let g=new Date;g.setUTCMonth(g.getUTCMonth()-3),g.setUTCHours(0,0,0,0);let _=new Date;_.setUTCMonth(_.getUTCMonth()-6),_.setUTCHours(0,0,0,0);let y=new Date;function N(e){try{let t=e.includes(".000000")?e.replace(".000000",""):e,n=(0,i.qg)(t,"HH:mm:ss",new Date);return(0,u.Yq)(n,"HH:mm")}catch(t){return e}}function h(e,t){let[n,r,a]=e.split(":"),l=Number(n),o=Number(r);switch(t){case"en":default:d.enUS;break;case"ar":m.E;break;case"fr":c.fr}let i="";return l>0&&(i+="".concat(l,"h")),o>0&&(i?i+=" ".concat(o,"m"):i+="".concat(o,"m")),i.trim()}y.setUTCMonth(y.getUTCMonth()-12),y.setUTCHours(0,0,0,0),(0,r.$)(new Date),new Date().setDate(new Date().getDate()+6),new Date().setDate(new Date().getDate()+29),(0,a.p)(new Date),(0,l.Q)(new Date),(0,r.$)(new Date),(0,a.p)(new Date),(0,a.p)(new Date),(0,a.p)(new Date),(0,o.e)(new Date,7),(0,o.e)(new Date,30),(0,o.e)(new Date,90),(0,o.e)(new Date,180),(0,o.e)(new Date,365),n(33),n(73565);let T=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return null==e?"-":0===e?t?"0,00 DH":"0.00":("string"==typeof e&&(e=Number(e)),Intl.NumberFormat("fr-FR",{style:"currency",currency:"MAD",minimumFractionDigits:2,maximumFractionDigits:2,currencyDisplay:"narrowSymbol"}).format(e).replace("MAD","").trimStart().trim()+"".concat(t?" DH":""))};function E(e){if(!e)return{firstName:"",lastName:""};let t=e.trim().split(/\s+/);return{firstName:t[0]||"",lastName:t.length>1?t[t.length-1]:""}}n(11945);var v=n(58677);v.OI_,v.dHM},64977:(e,t,n)=>{n.d(t,{d:()=>a});var r=n(7620);function a(){return{trackEvent:(0,r.useCallback)((e,t)=>{window.fbq?window.fbq("track",e,t):console.warn("Meta Pixel not initialized or running on server")},[]),trackCustomEvent:(0,r.useCallback)((e,t)=>{window.fbq?window.fbq("trackCustom",e,t):console.warn("Meta Pixel not initialized or running on server")},[])}}},70914:(e,t,n)=>{n.d(t,{AuthModalProvider:()=>i,X:()=>u});var r=n(54568),a=n(7620),l=n(57707);let o=(0,a.createContext)(void 0);function i(e){let{children:t}=e,[n,i]=(0,a.useState)(!1),[u,s]=(0,a.useState)({}),[d,m]=(0,a.useState)(null),c=l.F.auth.logout.useMutation({onSuccess:(e,t)=>{e&&(window.location.href="/")},onError:e=>{}}),p=(0,a.useCallback)(function(){var e,t,n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(r),i(!0),null===(n=window.google)||void 0===n||null===(t=n.accounts)||void 0===t||null===(e=t.id)||void 0===e||e.cancel()},[]),b=(0,a.useCallback)(()=>{i(!1),s({}),m(null)},[]),z=(0,a.useCallback)(async()=>{window.ReactNativeWebView&&window.ReactNativeWebView.postMessage("logout"),await c.mutateAsync()},[c]);return(0,r.jsx)(o.Provider,{value:{isOpen:n,props:u,openModal:p,closeModal:b,setIsOpen:i,logout:z,redirectUrl:d,setRedirectUrl:m},children:t})}function u(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuthModal must be used within an AuthModalProvider");return e}},89497:(e,t,n)=>{n.d(t,{$U:()=>o,rn:()=>a,tZ:()=>l});let r=(0,n(31399).H)({breakpoints:{sm:0,md:768,lg:1024,xl:1192}}),a=r.createMediaStyle(),{MediaContextProvider:l,Media:o}=r}}]);